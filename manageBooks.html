<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  </head>
  <body
    class="bg-[#10172a] text-white flex items-center justify-center flex-col gap-5"
  >
    <h1 class="text-5xl">Manage Books</h1>
    <div id="main" class="flex flex-col gap-5"></div>
  </body>
  <script>
    const userId = localStorage.getItem("userId");
    async function loadData() {
      const response = await fetch("http://localhost:5000/bookget");
      const data = await response.json();
      // console.log(data)

      //book displaying created by userId
      const user = data.filter((u) => u.createdBy === userId);
      console.log(user);

      let str = "";
      user.map((display) => {
        str += `
        
    <div class="flex flex-col gap-4 bg-white  w-[900px] rounded-lg p-6 hover:-translate-y-2  duration-300 ease-out">
        <div class="flex items-center justify-center text-black text-3xl font-bold">${display.bookTitle}</div>
    <p class="text-gray-700"><strong>Book ID:</strong> ${display.bookId}</p>    
    <p class="text-gray-700"><strong>Title:</strong> ${display.bookTitle}</p> 
    <p class="text-gray-700"><strong>Author:</strong> ${
      display.author
    }</p>         
    <p class="text-gray-700"><strong>Genre:</strong> ${
      display.genre
    }</p>         

    <p class="flex items-center text-gray-700">
        <strong>Status:</strong>
        <span class="${
          display.status === "Borrowed"
            ? "bg-red-200 text-red-700 px-4 py-1 rounded-full ml-3 transition-colors duration-300"
            : "bg-green-200 text-green-700 px-4 py-1 rounded-full ml-3 transition-colors duration-300"
        }">
            ${display.status}
        </span>
    </p>         
</div>


            `;
      });
      document.getElementById("main").innerHTML = str;
    }
    loadData();
    console.log(userId);
  </script>
</html>
